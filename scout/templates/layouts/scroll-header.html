{% extends 'layouts/base.html' %}

{% block js_top %}

  <script src="{{ url_for('static', filename='vendor/platform/platform.js') }}"></script>
  <link rel="import" href="{{ url_for('static', filename='vendor/polymer/polymer.html') }}">

  <link rel="import" href="{{ url_for('static', filename='vendor/core-toolbar/core-toolbar.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/core-scroll-header-panel/core-scroll-header-panel.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/core-icon-button/core-icon-button.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/paper-icon-button/paper-icon-button.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/paper-shadow/paper-shadow.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/core-tooltip/core-tooltip.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/paper-ripple/paper-ripple.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/paper-input/paper-input.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/paper-button/paper-button.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/paper-fab/paper-fab.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/paper-input/paper-input.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/core-item/core-item.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/paper-item/paper-item.html') }}">
  <link rel="import" href="{{ url_for('static', filename='vendor/core-drawer-panel/core-drawer-panel.html') }}">

{% endblock %}

{% block body %}

  <core-drawer-panel responsiveWidth="1920px">
    <div class="main-drawer" drawer>
      {% block main_drawer %}
        <paper-item icon="home" label="Home">
          <a href="{{ url_for('frontend.index') }}"></a>
        </paper-item>

        {% if current_user.has_role('admin') %}
          <paper-item icon="create" label="Admin">
            <a href="/admin"></a>
          </paper-item>
        {% endif %}

        <paper-item icon="close" label="Logout" onclick="document.querySelector('#hidden-logout').click();"></paper-item>
        <form action="{{ url_for('login.logout') }}" method="POST">
          <button type="submit" id="hidden-logout" class="hidden-submit"></button>
        </form>
      {% endblock %}
    </div>

    <core-scroll-header-panel main flex
      {{ scroll_header_keywords | default('condenses keepCondensedHeader') }}>

      <core-toolbar class="tall">
        {% block toolbar_tall %}

          <div class="toolbar-top top" layout horizontal center>
            {% block toolbar_top %}
              <paper-icon-button icon="menu" class="menu-button" onclick="document.querySelector('core-drawer-panel').togglePanel();"></paper-icon-button>
              <div flex></div>
              <paper-item icon="account-circle" label="{{ current_user.name }}">
                <a href="{{ url_for('user.profile', user_id=current_user.id) }}"></a>
              </paper-item>
            {% endblock %}
          </div>

          <div class="toolbar-middle middle indent" layout horizontal center>
            {% block toolbar_middle %}{% endblock %}
          </div>

          {% block toolbar_bottom_outer %}
          <div class="toolbar-bottom bottom indent" layout horizontal center>
            {% block toolbar_bottom %}{% endblock %}
          </div>
          {% endblock %}

        {% endblock %}
      </core-toolbar>

      <div content>
        {% block content %}{% endblock %}
      </div>
    </core-scroll-header-panel>
  </core-drawer-panel>

{% endblock %}
