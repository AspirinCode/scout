{% extends 'layouts/scroll-header.html' %}
{% from 'macros/_polymer.html' import core_item %}

{% set page_title = 'Variant' %}

{% block toolbar_top_left %}
  <a href="{{ url_for('core.cases', institute_id=institute_id) }}"
     class="breadcrumb-button is-raised">
    {{ institute_id }}
  </a>
  <core-icon v-with="icon: 'chevron-right'"></core-icon>

  <a href="{{ url_for('core.case', institute_id=institute_id, case_id=case_id) }}" class="breadcrumb-button is-raised">
    Case {{ case_id }}
  </a>
  <core-icon v-with="icon: 'chevron-right'"></core-icon>

  <a href="{{ url_for('core.variants', institute_id=institute_id, case_id=case_id) }}" class="breadcrumb-button is-raised">
    Variants
  </a>
{% endblock %}

{% block toolbar_top_right %}
  <div class="button-base">{{ core_item('Sanger', icon='mail') }}</div>
  <div class="button-base">{{ core_item('Pin', icon='bookmark') }}</div>

  {{ super() }}
{% endblock %}

{% block toolbar_bottom %}
  {{ core_item(variant.common.cadd_score,
               icon='grade',
               class='variant-header-item') }}

  <div class="variant-header-item variants-tooltip">
    {{ core_item('Chr%s: %s' % (variant.common.chrom, variant.common.hgnc_symbol), icon='room') }}

    <div class="variants-tooltip-tip is-bottom">
      <ul>
        <li>
          <strong>Position</strong>: {{ variant.common.position }}
        </li>
        <li>
          <strong>Aliases</strong>: {{ 'CPO, CPX, HCP' }}
        </li>
        <li>
          <strong>Full name</strong>: {{ 'Coproporphyrinogen III oxidase' }}
        </li>
        <li>
          <strong>Ensembl</strong>: {{ variant.common.gene_ids.ensembl_id }}
        </li>
      </ul>
    </div>
  </div>

  {{ core_item('%s â†’ %s' % (variant.common.reference, variant.common.alternative), icon='swap-vert-circle', class='variant-header-item') }}

  {{ core_item('exonic', icon='report', class='variant-header-item') }}

  {{ core_item('nonsynonymous SNV', icon='settings', class='variant-header-item') }}
{% endblock %}

{% block content %}
  <div class="variant-segments">

    <div class="variant-segments-row">

      <div id="frequency" class="variant-segment">
        <div class="variant-segment-title">Frequency</div>

        <div class="variant-segment-content">
          <div class="variant-list-item">
            <div>ThousandG</div>
            <div>0.01</div>
          </div>

          <div class="variant-list-item">
            <div>Esp6500</div>
            <div>0.007</div>
          </div>

          <div class="variant-list-item">
            <div>Local</div>
            <div>0.27</div>
          </div>
        </div>
      </div>

      <div id="inheritance-model" class="variant-segment">
        <div class="variant-segment-title">Inheritance models</div>

        <div class="variant-segment-content">
          <div class="variant-list-item">
            <div>Disease gene model</div>
            <div>-</div>
          </div>

          <div class="variant-list-item">
            <div>OMIM</div>
            <div>Autosomal recessive</div>
          </div>

          <div class="variant-row-item">
            <div>
              Matching
            </div>

            <div class="variant-row-item-sublist">
              {% for model in variant.case_specifics[0].inheritance_models %}
                <div class="variant-row-item-sublist-item">{{ model }}</div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>

      <div id="omim" class="variant-segment">
        <div class="variant-segment-title">OMIM</div>

        <div class="variant-segment-content">
          <div class="variant-list-item">
            Epidermolysis bullosa simplex with muscular dystrophy
          </div>
          <div class="variant-list-item">
            Epidermolysis bullosa simplex, ogna type
          </div>
          <div class="variant-list-item">
            Epidermolysis bullosa simplex with pyloric atresia
          </div>
          <div class="variant-list-item">
            Muscular dystrophy, limb-girdle, type 2q
          </div>
        </div>
      </div>
    </div>

    <div id="details" class="variant-segments-row">
      <div id="frequency" class="variant-segment">
        <div class="variant-segment-title">Predicted protein changes</div>

        <div class="variant-segment-content">
          <div class="variant-list-item">
            COL6A2:NM_001849:exon26:c.2351G>A:p.R784H
          </div>
          <div class="variant-list-item">
            COL6A2:NM_058174:exon26:c.2351G>A:p.R784H
          </div>
          <div class="variant-list-item">
            COL6A2:NM_058175:exon26:c.2351G>A:p.R784H
          </div>
        </div>
      </div>

      <div id="severities" class="variant-segment">
        <div class="variant-segment-title">Severity</div>

        <div class="variant-segment-content">
          <div class="variant-list-item">
            <div>SiftWholeExome</div>
            <div>0.63</div>
          </div>
          <div class="variant-list-item">
            <div>PolyphenDivHuman</div>
            <div>0.049</div>
          </div>
          <div class="variant-list-item">
            <div>PolyphenVarHuman</div>
            <div>0.01</div>
          </div>
          <div class="variant-list-item">
            <div>MutationTaster</div>
            <div>0.531</div>
          </div>
        </div>
      </div>

      <div id="conservation" class="variant-segment">
        <div class="variant-segment-title">Conservation</div>

        <div class="variant-list-item">
          <div>PhylopWholeExome</div>
          <div>1.586</div>
        </div>
        <div class="variant-list-item">
          <div>LrtWholeExome</div>
          <div>0.183</div>
        </div>
        <div class="variant-list-item">
          <div>PhastConstElementsScore</div>
          <div>555</div>
        </div>
        <div class="variant-list-item">
          <div>GerpElement</div>
          <div>1065.5</div>
        </div>
        <div class="variant-list-item">
          <div>GerpWholeExome</div>
          <div>2.76</div>
        </div>
      </div>
    </div>

    <div id="gt-call" class="variant-segments-row">
      <div id="inheritance-model" class="variant-segment">
        <div class="variant-segment-title">GT call</div>

        <div class="variant-segment-content">
          <div class="variant-row-item">
            <div class="variant-row-item-sublist">
              {% for item in "14701600331 0/1 22,18 449,0,501 99".split(' ') %}
                <div class="variant-row-item-sublist-item">{{ item }}</div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="gt-call" class="variant-segments-row">
      <div class="variant-segment">
        <div class="variant-segment-content">
          <div class="variant-list-links">
            <a class="variant-link-external" href="http://www.ensembl.org/Homo_sapiens/Gene/Summary?g=ENSG00000105397">
              Ensembl
            </a>

            <a class="variant-link-external" href="http://www.proteinatlas.org/search/ENSG00000105397">
              HPA
            </a>

            <a class="variant-link-external" href="http://string-db.org/newstring_cgi/show_network_section.pl?identifier=ENSG00000105397">
              STRING
            </a>

            <a class="variant-link-external" href="http://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&position=chr19:10463118-10463118&dgv=pack&knownGene=pack&omimGene=pack">
              UCSC
            </a>

            <a class="variant-link-external" href="http://www.ncbi.nlm.nih.gov/sites/gquery/?term=TYK2">
              Entrez
            </a>

            <a class="variant-link-external" href="http://www.ensembl.org/Homo_sapiens/Gene/Summary?g=ENSG00000105397">
              Ensembl
            </a>

            <a class="variant-link-external" href="https://clinical-db.scilifelab.se:8081/api/v1/variants/95079791/igv.xml?origin=https://clinical-db.scilifelab.se:8081">
              IGV
            </a>
          </div>
        </div>
      </div>
    </div>

  </div>
{% endblock %}
