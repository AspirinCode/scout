{% macro compounds_table(compounds, institute_id, case_id,
                         class_names=['default-table']) %}
  <table class="{{ class_names|join(' ') }}">
    <thead>
      <tr>
        <th>Variant</th>
        <th>Combined score</th>
        <th>Rank score</th>
        <th>Region annotation</th>
        <th>Functional annotation</th>
      </tr>
    </thead>

    <tbody>
      {% for compound in compounds %}
        <tr>
          <td>
            {% if compound.variant.document_id %}
              <a href="{{
                url_for('core.variant',
                        institute_id=institute_id,
                        case_id=case_id,
                        variant_id=compound.variant.document_id)
              }}">
                {{ compound.display_name }}
              </a>
            {% else %}
              {{ compound.display_name }}
            {% endif %}
          </td>
          <td class="text-right">{{ compound.combined_score }}</td>
          <td class="text-right">{{ compound.rank_score }}</td>
          <td>{{ compound.region_annotations|join(',') }}</td>
          <td>{{ compound.functional_annotations|join(',') }}</td>
        </tr>
      {% else %}
        <tr>
          <td colspan="5">No compounds.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endmacro %}

{% macro variant_links(hgnc_symbol, ensembl_gene_id, chromosome, position, reactome_link, igv_link) %}
  <a target="_blank" class="variant-link-external" href="http://grch37.ensembl.org/Homo_sapiens/Gene/Summary?g={{ ensembl_gene_id }}">
    Ensembl
  </a>

  <a target="_blank" class="variant-link-external" href="http://www.proteinatlas.org/search/{{ ensembl_gene_id }}">
    HPA
  </a>

  <a target="_blank" class="variant-link-external" href="http://string-db.org/newstring_cgi/show_network_section.pl?identifier={{ ensembl_gene_id }}">
    STRING
  </a>

  <a target="_blank" class="variant-link-external" href="http://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&position=chr{{ chromosome }}:{{ position }}-{{ position }}&dgv=pack&knownGene=pack&omimGene=pack">
    UCSC
  </a>

  <a target="_blank" class="variant-link-external" href="http://www.ncbi.nlm.nih.gov/sites/gquery/?term={{ hgnc_symbol }}">
    Entrez
  </a>

  <a target="_blank" class="variant-link-external" href="http://tools.genes.toronto.edu/">SPANAR</a>

  <a target="_blank" class="variant-link-external"
     href="{{ reactome_link }}">
    Reactome
  </a>

  <a target="_blank" class="variant-link-external"
     href="{{ igv_link }}">
    IGV
  </a>
{% endmacro %}
