{% extends "layout.html" %}

{% block title %}
  {{ super() }} - {{ current_user.name }} - Gene Panels
{% endblock %}

{% block top_nav %}
  {{ super() }}
  <li>
    <a href="{{ url_for('cases.index') }}">Institutes</a>
  </li>
  <li class="active">
    <span class="navbar-text">Gene Panels</span>
  </li>
{% endblock %}

{% block content_main %}
    {% if panel_groups %}
      {% for institute,panels in panel_groups %}
        {{ panel_view(institute,panels) }}
      {% endfor %}
    {% else %}
      <div class="panel-body">No gene panels found.</div>
    {% endif %}
  </div>
{% endblock %} <!-- end of content_main -->


{% macro panel_view(institute,panels) %}
  <div class="panel panel-default">
    <div class="panel-heading">
      <strong>{{ institute.display_name }}</strong> - Panels
    </div>
    <div>
      {% for panel in panels %}
        <!--create table for each panel-->
        <thead>
          <tr>
            <th>Name</th>
            <th>Latest version</th>
            <th>History</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ panel.panel_name }}</td>
            <td>{{ panel.panel_name }}</td>
            <td>{{ panel.panel_name }}</td>
          </tr>
        </tbody>
      {% endfor %}
    </div>

  </div>
{% endmacro %}
